{"version":3,"sources":["components/ToolDrawerController.js","utils/api.js","components/visualized/List.js","components/Select.js","pages/GithubPopular.js"],"names":["ToolDrawerController","state","drawerOpen","toggleDrawer","open","_this","setState","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","style","this","props","className","onClick","bind","components_ToolDrawer__WEBPACK_IMPORTED_MODULE_6__","React","Component","request","url","fetch","then","res","json","module","exports","fetchPopularRepos","language","encodedURI","window","encodeURI","concat","data","items","fetchProLanguages","rowRenderer","_ref","key","index","isScrolling","isVisible","react_default","list","VList","List_default","padding","height","maxHeight","outline","width","rowCount","length","rowHeight","noRowsRenderer","paddingBottom","PureComponent","inputComponent","inputRef","Object","objectWithoutProperties","assign","ref","components","Control","TextField_default","fullWidth","InputProps","inputProps","objectSpread","selectProps","classes","input","innerRef","children","innerProps","textFieldProps","MenuList","visualized_List","Array","isArray","MultiValue","Chip_default","tabIndex","label","classNames","chip","defineProperty","chipFocused","isFocused","onDelete","removeProps","deleteIcon","Cancel_default","Placeholder","Typography_default","color","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","IntegrationReactSelect","single","multi","handleChange","name","option","onSelect","value","_this$props","theme","suggestions","selectStyles","base","palette","text","primary","& input","font","root","NoSsr_default","react_select_esm","styles","options","onChange","withStyles","flexGrow","display","flexWrap","flex","alignItems","overflow","margin","spacing","unit","backgroundColor","emphasize","type","grey","noOptionsMessage","fontSize","paddingLeft","position","left","paper","zIndex","marginTop","right","divider","withTheme","languages","SelectLanguage","selectMore","selectedLanguage","map","lang","GithubPopular_MoreLan","toogleOpen","MoreLan","fetchData","api","item","localStorage","setItem","JSON","stringify","languagesStr","getItem","parse","err","Select","Search_default","RepoGrid","repos","repo","src","owner","avatar_url","alt","login","href","html_url","target","stargazers_count","textAlign","GithubPopular","moreOpen","updateLanguage","storedRepos","sessionStorage","_this2","indexOf","_ref2","_this$state"],"mappings":"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","file":"static/js/1.6acde6fb.chunk.js","sourcesContent":["import React from 'react';\nimport ToolDrawer from 'components/ToolDrawer'\n\nclass ToolDrawerController extends React.Component {\n\tstate = {\n\t\tdrawerOpen: false\n\t}\n\ttoggleDrawer = (open) => {\n\t\tthis.setState({ drawerOpen: open })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={this.props.style} className=\"toggleDrawer-button-wrapper\">\n\t\t\t\t<div className=\"toggleDrawer-button\" onClick={this.toggleDrawer.bind(null, true)}></div>\n\t\t\t\t<ToolDrawer open={this.state.drawerOpen} toggleDrawer={this.toggleDrawer} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nexport default ToolDrawerController\n","const request = (url) => {\n\treturn fetch(url).then(res => res.json())\n}\n\nmodule.exports = {\n\tfetchPopularRepos: (language) => {\n\t\tconst encodedURI = window.encodeURI(`https://api.github.com/search/repositories?q=stars:>1+language:${language}&sort=stars&order=desc&type=Repositories`)\n\t\treturn request(encodedURI)\n\t\t\t.then(data => {\n\t\t\t\treturn data.items\n\t\t\t})\n\t},\n\tfetchProLanguages: () => {\n\t\treturn request('https://api.github.com/languages')\n\t}\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport List from 'react-virtualized/dist/commonjs/List'\n\nfunction rowRenderer(props) {\n  return ({\n    key,         // Unique key within array of rows\n    index,       // Index of row within collection\n    isScrolling, // The List is currently being scrolled\n    isVisible,   // This row is visible within the List (eg it is not an overscanned row)\n    style        // Style object to be applied to row (to position it)\n  }) => {\n    return (\n      <div\n        key={key}\n        style={style}\n        className=\"vlist-option\"\n      >\n        {props.list[index]}\n      </div>\n    )\n  }\n}\n\n\n\n\nclass VList extends React.PureComponent {\n  render() {\n    const { props } = this\n    return (\n      <List\n        style={{padding: '10px 0 0', height: 'auto !important', maxHeight: '300px', outline: 'none'}}\n        width={props.width}\n        height={300}\n        rowCount={props.list.length}\n        rowHeight={40}\n        rowRenderer={rowRenderer(props)}\n        noRowsRenderer={() => (\n          <div style={{paddingBottom: '10px'}}>No Options</div>\n        )}\n      />\n    )\n  }\n}\n\nVList.propTypes = {\n  list: PropTypes.array.isRequired\n}\n\nexport default VList","import React from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport Select from 'react-select'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport NoSsr from '@material-ui/core/NoSsr'\nimport TextField from '@material-ui/core/TextField'\nimport Chip from '@material-ui/core/Chip'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport { emphasize } from '@material-ui/core/styles/colorManipulator'\n\nimport VList from 'components/visualized/List'\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    width: 200\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n    height: 30\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden'\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n      0.08,\n    ),\n  },\n  noOptionsMessage: {\n    padding: `${theme.spacing.unit / 2}px ${theme.spacing.unit}px`,\n    fontSize: 16\n  },\n  singleValue: {\n    fontSize: 14,\n    paddingLeft: 4\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    fontSize: 14,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  },\n})\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />\n}\n\nfunction Control(props) {\n\n  return (\n    <TextField\n      fullWidth\n      InputProps={{\n        inputComponent,\n        inputProps: {\n          className: props.selectProps.classes.input,\n          inputRef: props.innerRef,\n          children: props.children,\n          ...props.innerProps,\n        },\n      }}\n      {...props.selectProps.textFieldProps}\n    />\n  )\n}\n\nfunction Placeholder(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.placeholder}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  )\n}\n\nfunction SingleValue(props) {\n  return (\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n      {props.children}\n    </Typography>\n  )\n}\n\nfunction ValueContainer(props) {\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>\n}\n\nfunction MultiValue(props) {\n  return (\n    <Chip\n      tabIndex={-1}\n      label={props.children}\n      className={classNames(props.selectProps.classes.chip, {\n        [props.selectProps.classes.chipFocused]: props.isFocused,\n      })}\n      onDelete={props.removeProps.onClick}\n      deleteIcon={<CancelIcon {...props.removeProps} />}\n    />\n  )\n}\n\nfunction MenuList(props) {\n  return (\n    <VList list={Array.isArray(props.children) ? props.children : []} width={200} />\n  )\n}\n\nconst components = {\n  Control,\n  MenuList,\n  MultiValue,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n}\n\nclass IntegrationReactSelect extends React.Component {\n  state = {\n    single: null,\n    multi: null,\n  }\n\n  handleChange = name => option => {\n    this.setState({\n      [name]: option,\n    })\n    this.props.onSelect(option.value)\n  }\n\n  render() {\n    const { classes, theme, suggestions } = this.props\n\n    const selectStyles = {\n      input: base => ({\n        ...base,\n        color: theme.palette.text.primary,\n        '& input': {\n          font: 'inherit',\n        },\n      }),\n    }\n\n    return (\n      <div className={classes.root}>\n        <NoSsr>\n          <Select\n            classes={classes}\n            styles={selectStyles}\n            options={suggestions}\n            components={components}\n            value={this.state.single}\n            onChange={this.handleChange('single')}\n            placeholder=\"Search Languages\"\n          />\n        </NoSsr>\n      </div>\n    )\n  }\n}\n\nIntegrationReactSelect.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles, { withTheme: true })(IntegrationReactSelect)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport api from 'utils/api'\nimport './drawerPages.css'\nimport ToolDrawerController from 'components/ToolDrawerController'\nimport Select from 'components/Select'\nimport SearchIcon from '@material-ui/icons/Search'\n\nconst languages = ['All', 'JavaScript', 'CSS', 'Python', 'Ruby']\n\n\nfunction SelectLanguage({ selectMore, selectedLanguage, onSelect, open }) {\n\treturn (\n\t\t<ul className=\"github-popular-languages\">\n\t\t\t{\n\t\t\t\tlanguages.map(lang => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tstyle={lang === selectedLanguage ? { color: '#e0353d' } : null}\n\t\t\t\t\t\t\tkey={lang}\n\t\t\t\t\t\t\tonClick={onSelect.bind(null, lang)}\n\t\t\t\t\t\t>{lang}</li>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\t\t\t<MoreLan toogleOpen={selectMore} open={open} onSelect={onSelect} />\n\t\t</ul>\n\t)\n}\n\n\n\nclass MoreLan extends React.PureComponent {\n\tstate = {\n\t\tlanguages: []\n\t}\n\n\tcomponentDidMount() {\n\t\ttry {\n\t\t\tconst languagesStr = localStorage.getItem('proLanguages')\n\t\t\tif (!languagesStr) {\n\t\t\t\tthis.fetchData()\n\t\t\t} else {\n\t\t\t\tthis.setState({ languages: JSON.parse(languagesStr) })\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tthis.fetchData()\n\t\t}\n\t}\n\n\n\tfetchData = () => {\n\t\tapi.fetchProLanguages().then(data => {\n\t\t\tconst options = data.map(item => ({ value: item.name, label: item.name }))\n\t\t\tlocalStorage.setItem('proLanguages', JSON.stringify(options))\n\t\t\tthis.setState({ languages: options })\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { state, props } = this\n\t\treturn (\n\t\t\t<li className=\"github-popular-more\">\n\t\t\t\t{\n\t\t\t\t\tprops.open\n\t\t\t\t\t\t?\n\t\t\t\t\t\t\t<div className=\"github-popular-select\"><Select suggestions={state.languages} onSelect={props.onSelect}  /></div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<SearchIcon onClick={props.toogleOpen.bind(null, true)} fontSize=\"small\" color=\"inherit\" />\n\t\t\t\t}\n\t\t\t</li>\n\t\t)\n\t}\n}\n\nfunction RepoGrid(props) {\n\treturn (\n\t\tprops.repos.length ?\n\t\t\t(<ul className=\"github-popular-list\">\n\t\t\t\t{props.repos.map((repo, index) => (\n\t\t\t\t\t<li key={repo.name} className=\"github-popular-item\">\n\t\t\t\t\t\t<div className=\"github-popular-rank\">#{index + 1}</div>\n\t\t\t\t\t\t<ul className=\"github-list-items\">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"github-avatar\"\n\t\t\t\t\t\t\t\t\tsrc={repo.owner.avatar_url}\n\t\t\t\t\t\t\t\t\talt={`Avatar for ${repo.owner.login}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li><a href={repo.html_url} target=\"_black\">{repo.name}</a></li>\n\t\t\t\t\t\t\t<li>@{repo.owner.login}</li>\n\t\t\t\t\t\t\t<li>@{repo.stargazers_count} stars</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>)\n\t\t:\n\t\t\t<div style={{fontSize: '40px', textAlign: 'center', marginTop: '100px'}}>No Result</div>\n\t)\n}\n\nclass GithubPopular extends React.Component {\n\tstate = {\n\t\tselectedLanguage: 'All',\n\t\trepos: null,\n\t\tmoreOpen: false\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateLanguage(this.state.selectedLanguage)\n\t}\n\n\tupdateLanguage = (lang) => {\n\t\tconst storedRepos = sessionStorage.getItem(lang) || null\n\t\tthis.setState({\n\t\t\tselectedLanguage: lang,\n\t\t\trepos: storedRepos && JSON.parse(storedRepos),\n\t\t\tmoreOpen: languages.indexOf(lang) === -1\n\t\t})\n\t\tif (!storedRepos) {\n\t\t\tapi.fetchPopularRepos(lang)\n\t\t\t\t.then(repos => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\trepos,\n\n\t\t\t\t\t})\n\t\t\t\t\tsessionStorage.setItem(lang, JSON.stringify(repos))\n\t\t\t\t})\n\t\t}\n\t}\n\n\ttoogleOpen = (open) => {\n\t\tthis.setState(({ selectedLanguage }) => {\n\t\t\treturn {\n\t\t\t\tmoreOpen: open\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { selectedLanguage, repos, moreOpen } = this.state\n\t\treturn (\n\t\t\t<div className=\"github-popular\">\n\t\t\t\t<SelectLanguage selectedLanguage={selectedLanguage} onSelect={this.updateLanguage} selectMore={this.toogleOpen} open={moreOpen} />\n\t\t\t\t{repos\n\t\t\t\t\t? <RepoGrid repos={repos} />\n\t\t\t\t\t: <p>LOADING</p>\n\t\t\t\t}\n\t\t\t\t<ToolDrawerController />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nSelectLanguage.propTypes = {\n\tselectedLanguage: PropTypes.string.isRequired,\n\tonSelect: PropTypes.func.isRequired\n}\n\nRepoGrid.propTypes = {\n\trepos: PropTypes.array.isRequired\n}\n\n\nexport default GithubPopular\n"],"sourceRoot":""}